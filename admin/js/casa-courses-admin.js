!function(e){"use strict";e(document).ready((function(){e(".com-tab-group li a").on("click",(function(a){a.preventDefault();var c="."+e(this).data("key");e(".com-tab-group li.active").removeClass("active"),e(this).parent().addClass("active"),e(".metadata-wrap").addClass("hidden"),e(c).removeClass("hidden")})),e(".color_field").each((function(){e(this).wpColorPicker({mode:"hsl",controls:{horiz:"s",vert:"l",strip:"h"}})})),e("#casa_courses_synchronization").on("click",(function(){var a,c,s,r,i=this,n=null!==(a=null===(c=casa_courses_config)||void 0===c?void 0:c.restUrl)&&void 0!==a?a:"",o=null!==(s=null===(r=casa_courses_config)||void 0===r?void 0:r.ajax_nonce)&&void 0!==s?s:"";e(this).prop("disabled",!0),e.ajax({url:n+"sync",type:"post",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",o)},data:{ajax_nonce:o},success:function(a){var c=JSON.parse(a.data.message);e(i).after('<span class="alert_message success">'.concat(c,"</span>"))},error:function(a){var c=JSON.parse(a.data.message);e(i).after('<span class="alert_message error">'.concat(c,"</span>"))},complete:function(){e(i).prop("disabled",!1),setTimeout((function(){e(".alert_message").remove()}),7e3)}})})),e(".add-row").on("click",(function(){var a=e(this).parent("p").siblings("table").find("tbody tr.empty-row.screen-reader-text").clone(!0);return a.removeClass("empty-row screen-reader-text"),a.insertBefore(e(this).parent("p").siblings("table").find("tbody tr:last")),!1})),e(".remove-row").on("click",(function(){return e(this).parents("tr").remove(),!1})),e(".com_upload_image").on("click",(function(a){a.preventDefault();var c,s=e(this);c||(c=wp.media.frames.customBackground=wp.media({title:"choose image",library:{type:"image"},button:{text:"Upload"},multyple:!1})).on("select",(function(e){var a=c.state().get("selection").first(),r=a.id,i=a.attributes.url;s.parent().find(".com_upload_image_save").val(r),s.parent().find(".com_upload_image_show").attr("src",i),s.parent().find(".com_upload_image_show").show(),s.parent().find(".com_upload_image_remove").show(),s.hide()})),c.open()})),e(".com_upload_image_remove").on("click",(function(a){var c=e(this);a.preventDefault(),c.parent().find(".com_upload_image_save").val(""),c.parent().find(".com_upload_image_show").attr("src",""),c.parent().find(".com_upload_image_show").hide(),c.parent().find(".com_upload_image").show(),c.hide()})),e('input[name="casa_courses_industry_required"]').on("click",(function(a){var c=e('input[name="casa_courses_company_required"]:checked');return"true"!==e(this).val()||"true"===e(c).val()})),e('input[name="casa_courses_industry_visible"]').on("click",(function(a){var c=e('input[name="casa_courses_company_visible"]:checked');return"true"!==e(this).val()||"true"===e(c).val()})),e('input[name="casa_courses_company_id_required"]').on("click",(function(a){var c=e('input[name="casa_courses_company_required"]:checked');return"true"!==e(this).val()||"true"===e(c).val()})),e('input[name="casa_courses_company_id_visible"]').on("click",(function(a){var c=e('input[name="casa_courses_company_visible"]:checked');return"true"!==e(this).val()||"true"===e(c).val()})),e('input[name="casa_courses_company_required"]').on("click",(function(a){if(e('input[name="casa_courses_company_required"]:checked'),"false"===e(this).val()){var c=e('input[name="casa_courses_industry_required"]'),s=e('input[name="casa_courses_company_id_required"]');e(c[0]).prop("checked",""),e(c[1]).prop("checked","checked"),e(s[0]).prop("checked",""),e(s[1]).prop("checked","checked")}})),e('input[name="casa_courses_company_visible"]').on("click",(function(a){if(e('input[name="casa_courses_company_visible"]:checked'),"false"===e(this).val()){var c=e('input[name="casa_courses_industry_visible"]'),s=e('input[name="casa_courses_company_id_visible"]');e(c[0]).prop("checked",""),e(c[1]).prop("checked","checked"),e(s[0]).prop("checked",""),e(s[1]).prop("checked","checked")}})),e("#_add_areas_image").on("click",(function(){return wp.media.editor.send.attachment=function(a,c){e("#casa_courses_areas_image-view").attr("src",c.url).show(),e(".casa__courses-link").show(),e(".casa-courses-areas-image").val(c.id)},wp.media.editor.open(this),!1})),e("#_remove_areas_image").on("click",(function(a){a.preventDefault(),e(".casa-courses-areas-image").val(""),e("#casa_courses_areas_image-view").attr("src","").hide(),e(".casa__courses-link").hide()})),e(".casa-upload-image").on("click",(function(){var a=e(this).attr("id").replace("_add_image_","");return wp.media.editor.send.attachment=function(c,s){e("."+a+"-wrap #casa_courses_image-view").attr("src",s.url).show(),e("."+a+"-wrap .casa__courses-link").show(),e("."+a+"-wrap .casa-courses-image").val(s.id)},wp.media.editor.open(this),!1})),e(".casa-remove-image").on("click",(function(){var a=e(this).attr("id").replace("_remove_image_","");return e("."+a+"-wrap .casa-courses-image").val(""),e("."+a+"-wrap #casa_courses_image-view").attr("src","").hide(),e("."+a+"-wrap .casa__courses-link").hide(),!1}))}))}(jQuery);